<!DOCTYPE HTML>
<html lang="en">
<head> 
    <title>Chess Game</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/chess.css(v=${#dates.createNow().getTime()})}" />
    <script th:src="@{/js/chess.js(v=${#dates.createNow().getTime()})}" defer></script>
</head>
<body>
    <div class="game-container">
        <div class="game-info">
            <h2>Chess Game</h2>
            <h3 th:text="${turn}" class="turn-indicator"></h3>
        </div>
        
        <div class="board-container">
            <div class="chess-board">
                <!-- Row 8 -->
                <div class="square light"><span class="piece" th:text="${A8}"></span></div>
                <div class="square dark"><span class="piece" th:text="${B8}"></span></div>
                <div class="square light"><span class="piece" th:text="${C8}"></span></div>
                <div class="square dark"><span class="piece" th:text="${D8}"></span></div>
                <div class="square light"><span class="piece" th:text="${E8}"></span></div>
                <div class="square dark"><span class="piece" th:text="${F8}"></span></div>
                <div class="square light"><span class="piece" th:text="${G8}"></span></div>
                <div class="square dark"><span class="piece" th:text="${H8}"></span></div>
                
                <!-- Row 7 -->
                <div class="square dark"><span class="piece" th:text="${A7}"></span></div>
                <div class="square light"><span class="piece" th:text="${B7}"></span></div>
                <div class="square dark"><span class="piece" th:text="${C7}"></span></div>
                <div class="square light"><span class="piece" th:text="${D7}"></span></div>
                <div class="square dark"><span class="piece" th:text="${E7}"></span></div>
                <div class="square light"><span class="piece" th:text="${F7}"></span></div>
                <div class="square dark"><span class="piece" th:text="${G7}"></span></div>
                <div class="square light"><span class="piece" th:text="${H7}"></span></div>
                
                <!-- Row 6 -->
                <div class="square light"><span class="piece" th:text="${A6}"></span></div>
                <div class="square dark"><span class="piece" th:text="${B6}"></span></div>
                <div class="square light"><span class="piece" th:text="${C6}"></span></div>
                <div class="square dark"><span class="piece" th:text="${D6}"></span></div>
                <div class="square light"><span class="piece" th:text="${E6}"></span></div>
                <div class="square dark"><span class="piece" th:text="${F6}"></span></div>
                <div class="square light"><span class="piece" th:text="${G6}"></span></div>
                <div class="square dark"><span class="piece" th:text="${H6}"></span></div>
                
                <!-- Row 5 -->
                <div class="square dark"><span class="piece" th:text="${A5}"></span></div>
                <div class="square light"><span class="piece" th:text="${B5}"></span></div>
                <div class="square dark"><span class="piece" th:text="${C5}"></span></div>
                <div class="square light"><span class="piece" th:text="${D5}"></span></div>
                <div class="square dark"><span class="piece" th:text="${E5}"></span></div>
                <div class="square light"><span class="piece" th:text="${F5}"></span></div>
                <div class="square dark"><span class="piece" th:text="${G5}"></span></div>
                <div class="square light"><span class="piece" th:text="${H5}"></span></div>
                
                <!-- Row 4 -->
                <div class="square light"><span class="piece" th:text="${A4}"></span></div>
                <div class="square dark"><span class="piece" th:text="${B4}"></span></div>
                <div class="square light"><span class="piece" th:text="${C4}"></span></div>
                <div class="square dark"><span class="piece" th:text="${D4}"></span></div>
                <div class="square light"><span class="piece" th:text="${E4}"></span></div>
                <div class="square dark"><span class="piece" th:text="${F4}"></span></div>
                <div class="square light"><span class="piece" th:text="${G4}"></span></div>
                <div class="square dark"><span class="piece" th:text="${H4}"></span></div>
                
                <!-- Row 3 -->
                <div class="square dark"><span class="piece" th:text="${A3}"></span></div>
                <div class="square light"><span class="piece" th:text="${B3}"></span></div>
                <div class="square dark"><span class="piece" th:text="${C3}"></span></div>
                <div class="square light"><span class="piece" th:text="${D3}"></span></div>
                <div class="square dark"><span class="piece" th:text="${E3}"></span></div>
                <div class="square light"><span class="piece" th:text="${F3}"></span></div>
                <div class="square dark"><span class="piece" th:text="${G3}"></span></div>
                <div class="square light"><span class="piece" th:text="${H3}"></span></div>
                
                <!-- Row 2 -->
                <div class="square light"><span class="piece" th:text="${A2}"></span></div>
                <div class="square dark"><span class="piece" th:text="${B2}"></span></div>
                <div class="square light"><span class="piece" th:text="${C2}"></span></div>
                <div class="square dark"><span class="piece" th:text="${D2}"></span></div>
                <div class="square light"><span class="piece" th:text="${E2}"></span></div>
                <div class="square dark"><span class="piece" th:text="${F2}"></span></div>
                <div class="square light"><span class="piece" th:text="${G2}"></span></div>
                <div class="square dark"><span class="piece" th:text="${H2}"></span></div>
                
                <!-- Row 1 -->
                <div class="square dark"><span class="piece" th:text="${A1}"></span></div>
                <div class="square light"><span class="piece" th:text="${B1}"></span></div>
                <div class="square dark"><span class="piece" th:text="${C1}"></span></div>
                <div class="square light"><span class="piece" th:text="${D1}"></span></div>
                <div class="square dark"><span class="piece" th:text="${E1}"></span></div>
                <div class="square light"><span class="piece" th:text="${F1}"></span></div>
                <div class="square dark"><span class="piece" th:text="${G1}"></span></div>
                <div class="square light"><span class="piece" th:text="${H1}"></span></div>
            </div>
            
            <!-- Board coordinates -->
            <div class="coordinates file-coord">A</div>
            <div class="coordinates file-coord">B</div>
            <div class="coordinates file-coord">C</div>
            <div class="coordinates file-coord">D</div>
            <div class="coordinates file-coord">E</div>
            <div class="coordinates file-coord">F</div>
            <div class="coordinates file-coord">G</div>
            <div class="coordinates file-coord">H</div>
            
            <div class="coordinates rank-coord">8</div>
            <div class="coordinates rank-coord">7</div>
            <div class="coordinates rank-coord">6</div>
            <div class="coordinates rank-coord">5</div>
            <div class="coordinates rank-coord">4</div>
            <div class="coordinates rank-coord">3</div>
            <div class="coordinates rank-coord">2</div>
            <div class="coordinates rank-coord">1</div>
        </div>

        <form action="/chess" method="post" class="move-form">
            <input type="text" id="move" name="move" class="move-input" placeholder="Enter your move (e.g. e2e4)" required/>
            <input type="hidden" id="gameId" name="gameId" th:value="${gameId}">
            <button type="submit" class="submit-btn">Make Move</button>
        </form>

        <div class="game-status">
            <p th:if="${pcMove}" th:text="'Computer moved: ' + ${pcMove}"></p>
            <p th:if="${answer}" th:text="${answer}"></p>
        </div>
    </div>
</body>
</html>

<!--
    <form action="#" th:action="@{/chess}" th:object="${move}"  method="post">
        <label for="fmove">your move:</label>
        <input type="text"  th:field="*{content}" /><br><br>
        <input type="submit" value="Submit" />
    </form>
-->